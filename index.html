<script>
    ropcAuth();

    function ropcAuth(){
    debugger;
    alert("hello from ropcAuth");
    var settings = {
        "url": "https://login.microsoftonline.com/cc03691b-456c-4116-8ddd-157c08cfe3d2/oauth2/token",
        "method": "POST",
        "headers": {
          "accept":"application/json;odata=verbose",
          "Content-Type": "application/x-www-form-urlencoded",
        },
        "data": {
          "client_id": "9624a483-5297-45f7-91da-a8ec0e75798b",
          "scope": "user.read openid profile offline_access",
          "client_secret": "ifr7Q~ovd8qXf5PnwxmB8DjY2PGaaNfv0_3ZG",
          "username": "ServiceNowAdmin@dtecho365.onmicrosoft.com",
          "password": "DTPass.01",
          "grant_type": "password",
          "resource": "https://dtecho365.sharepoint.com"
        }
      };

      $.ajax(settings).done(function (response) {
        console.log(response);
        alert("hello again from ropcAuth");
        alert(response);
      });
      return response;
}
</script>
<script>
    function setDevice(txt) {
  var text = txt || '';
  document.getElementById('device').innerHTML = text;
}

function setReferrer() {
  document.getElementById('referrer').innerHTML = document.referrer;
}

/* ----------------------------------------------------- */
var ua = navigator.userAgent.toLowerCase(),
  platform = navigator.platform.toLowerCase();

platformName = ua.match(/ip(?:ad|od|hone)/) ? 'ios' : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || ['other'])[0],

  isMobile = /ios|android|webos/.test(platformName);

if (isMobile) {
  setDevice('Mobile - ' + platformName);
} else if (document.getElementById('device').style.backgroundColor === 'red') {
  setDevice('TV - ' + platformName);
} else if (document.getElementById('device').style.backgroundColor === 'blue') {
  setDevice('Projector - ' + platformName); //only works well in Opera
} else {
  setDevice('Desktop - ' + platformName);
}

</script>
<style>
    #device { background-color: green; }

//TV
@media tv { #device { background-color: red; } }

//Projector
@media projection { #device { background-color:blue; } }

/////MOBILE/////
@media screen and (max-width : 480px) { #device{background-color:yellow;} }

//iPhone
@media screen and (max-width : 320px) { #device{background-color:yellow;} }


//iPad
@media screen and (max-width : 768px) { #device{background-color:yellow;} } 

//HTC One, Samsung Galaxy S5, OnePlus One
@media screen and (device-width: 360px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 3) { #device{background-color:yellow;} }

//Samsung Galaxy S2
@media screen and (device-width: 320px) and (device-height: 534px) and (-webkit-device-pixel-ratio: 1.5) { #device{background-color:yellow;} }

//Samsung Galaxy S3
@media screen and (device-width: 320px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//Samsung Galaxy S4
@media screen and (device-width: 320px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 3) { #device{background-color:yellow;} }

//LG Nexus 4
@media screen and (device-width: 384px) and (device-height: 592px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//LG Nexus 5, Huawei Ascend P7
@media screen and (device-width: 360px) and (device-height: 592px) and (-webkit-device-pixel-ratio: 3) { #device{background-color:yellow;} }

//Asus Nexus 7
@media screen and (device-width: 601px) and (device-height: 906px) and (-webkit-min-device-pixel-ratio: 1.331) and (-webkit-max-device-pixel-ratio: 1.332) { #device{background-color:yellow;} }

//iPad 1, iPad 2, iPad Mini
@media screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) { #device{background-color:yellow;} }

//iPad 3, iPad 4
@media screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//iPhone 3G
@media screen and (device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1) { #device{background-color:yellow;} }

//iPhone 4
@media screen and (device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//iPhone 5
@media screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//iPhone 6
@media screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//iPhone 6 Plus
@media screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) { #device{background-color:yellow;} }

//Huawei Ascend P6
@media screen and (device-width: 360px) and (device-height: 592px) and (-webkit-device-pixel-ratio: 2) { #device{background-color:yellow;} }

//Laptop
@media (min-width:1025px) { #device { background-color: green; } }

//Desktop
@media (min-width:1281px) { #device { background-color: green; } }
</style>
<h3>Test Mobile CORS</h3>
<div id="device" title="Device type"> ... </div>
<div id="referrer"> </div>